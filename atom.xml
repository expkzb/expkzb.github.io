<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Golden</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://expkzb.github.io/"/>
  <updated>2017-12-07T15:14:35.466Z</updated>
  <id>https://expkzb.github.io/</id>
  
  <author>
    <name>Golden Chow</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>访达？</title>
    <link href="https://expkzb.github.io/2017/12/07/%E8%AE%BF%E8%BE%BE%EF%BC%9F/"/>
    <id>https://expkzb.github.io/2017/12/07/访达？/</id>
    <published>2017-12-07T15:10:24.000Z</published>
    <updated>2017-12-07T15:14:35.466Z</updated>
    
    <content type="html"><![CDATA[<p>隔空投递、接力之后。<br>终于，在macOS的更新后迎来了“访达”。<br>.<br>.<br>.<br>.<br>.<br>.<br>Finder =&gt; 访达?(黑人问号脸)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;隔空投递、接力之后。&lt;br&gt;终于，在macOS的更新后迎来了“访达”。&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;.&lt;br&gt;Finder =&amp;gt; 访达?(黑人问号脸)&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS内购功能调研</title>
    <link href="https://expkzb.github.io/2017/03/01/iOS%E5%86%85%E8%B4%AD%E5%8A%9F%E8%83%BD%E8%B0%83%E7%A0%94/"/>
    <id>https://expkzb.github.io/2017/03/01/iOS内购功能调研/</id>
    <published>2017-03-01T14:51:56.000Z</published>
    <updated>2017-03-02T13:11:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>术语 <code>in-app purchase</code> 或 <code>IAP</code> </p>
<h2 id="大致流程"><a href="#大致流程" class="headerlink" title="大致流程"></a>大致流程</h2><p>选自 <a href="http://www.jianshu.com/p/298a01961ba7" target="_blank" rel="external">iOS快速上手应用内购(IAP)附Demo - 简书</a></p>
<ol>
<li>应用发送请求到服务器，获取所有的可用Products Id集合,(当然你也可以把Products Id硬编码到程序中,这样会导致不能动态配置商品).</li>
<li>根据服务器返回的 Products Id 以及信息设置购买界面UI.(这里跟图一有些不同)</li>
<li>用户点击购买商品.</li>
<li>客户端根据相应的 Product Id 向 App Store 请求产品信息，并发起购买 payment.(使用StoreKit)</li>
<li>App Store处理该 payment，并返回完成的 transaction</li>
<li>客户端从 transaction 中获取 receipt 凭证数据，并将其发送给服务器，等待返回.</li>
<li>服务器验证 receipt 凭证数据是否使用过，保存然后发给App Store验证是否合法</li>
<li>服务器得到 App Store 验证结果，返回给客户端相应购买成功或失败信息</li>
<li>客户端提示用户购买结果以及处理相应UI.</li>
</ol>
<a id="more"></a>
<h2 id="另一个流程"><a href="#另一个流程" class="headerlink" title="另一个流程"></a>另一个流程</h2><p><img src="https://ww4.sinaimg.cn/large/006tNc79gy1fd8syzl91mj30f70klacv.jpg" alt=""></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li>需要提前在 iTunes Connect 中创建项目（entry)</li>
<li>只能为虚拟物品提供内购服务</li>
<li>测试 IAP 需要创建“沙盒用户”(Sandbox User)</li>
</ul>
<h2 id="购买项目种类"><a href="#购买项目种类" class="headerlink" title="购买项目种类"></a>购买项目种类</h2><ul>
<li>Consumable 消费品，可重复购买</li>
<li>Non-Consumable 购买一次，永久有效</li>
<li>Non-Renewing Subscription 有有效期的订阅</li>
<li>Auto-Renewing Subscription 可重复的订阅</li>
</ul>
<h3 id="物品属性"><a href="#物品属性" class="headerlink" title="物品属性"></a>物品属性</h3><ul>
<li>Reference Name 在 iTunes Connect 中显示的物品昵称，该昵称不会出现在 app 中。</li>
<li>Product ID 一个唯一的字符串，用来区别 IAP 的物品。通常是由 Bundle ID + name 来定义。</li>
<li>Cleared for Sale 开启／关闭 该物品的购买服务</li>
<li>Price Tier 定价</li>
<li>Display Name 展示名称</li>
<li>Description 物品描述</li>
</ul>
<h2 id="创建沙盒用户"><a href="#创建沙盒用户" class="headerlink" title="创建沙盒用户"></a>创建沙盒用户</h2><h3 id="添加方式"><a href="#添加方式" class="headerlink" title="添加方式"></a>添加方式</h3><p>iTunes Connect -&gt; Users and Roles -&gt; Sandbox Testers -&gt; “+” </p>
<h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>所创建的邮箱，不能与 Apple ID 相关联</li>
<li>如果要测试 Non-Consumable 类型的购买，每次都需要创建一个新的沙盒用户，否则下次购买时，会被判定为恢复购买(restoring)</li>
<li>测试 Consumable 时，需要重新安装应用</li>
<li>The first time you submit your app for review, you also need to submit in-app products to be reviewed at the same time. After the first submission, you can submit updates to your app and products for review independently of each other. </li>
</ul>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li>避免重复注册邮箱：如果有gmail，可以使用“别名”(alias)来注册。比如，原有地址 abc@gmail.com，可以写成 abc+iap1@gmail.com。</li>
</ul>
<h2 id="配置Xcode"><a href="#配置Xcode" class="headerlink" title="配置Xcode"></a>配置Xcode</h2><ol>
<li>确认 Team 及 Bundle ID 和线上配置一样</li>
<li>在 Capabilities 中，打开 In-App Purchase</li>
</ol>
<h2 id="Show-me-the-code"><a href="#Show-me-the-code" class="headerlink" title="Show me the code"></a>Show me the code</h2><h3 id="列出商品列表"><a href="#列出商品列表" class="headerlink" title="列出商品列表"></a>列出商品列表</h3><blockquote>
<p>注意：你无法从苹果服务器获得商品列表，必须自己维护商品标识列表（product identifiers）</p>
</blockquote>
<p>通过商品的标识(product identifier)来获取商品信息（描述、标题、价格等）  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (void)fetchProducts &#123;</div><div class="line">	SKProductsRequest *productsRequest = [[SKProductsRequest alloc] initWithProductIdentifiers:[NSSet setWithArray:productIdentifiers]];</div><div class="line">	// Keep a strong reference to the request.</div><div class="line">	self.request = productsRequest;</div><div class="line">	productsRequest.delegate = self;</div><div class="line">	[productsRequest start];</div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark - Products Request Delegate</div><div class="line"></div><div class="line">- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response</div><div class="line">&#123;</div><div class="line">    //保留商品信息</div><div class="line">    self.products = response.products;</div><div class="line">    //已失效的商品</div><div class="line">    for (NSString *invalidIdentifier in response.invalidProductIdentifiers) &#123;</div><div class="line">        NSLog(@&quot;无效的产品标识：%@&quot;, invalidIdentifier);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="查找已购买的商品"><a href="#查找已购买的商品" class="headerlink" title="查找已购买的商品"></a>查找已购买的商品</h3><p>iOS 7.0+可以使用 <code>SKReceiptRefreshRequest</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">request = [[SKReceiptRefreshRequest alloc] init];</div><div class="line">request.delegate = self;</div><div class="line">[request start];</div></pre></td></tr></table></figure>
<h3 id="购买商品"><a href="#购买商品" class="headerlink" title="购买商品"></a>购买商品</h3><p>创建一个购买请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">- (SKPayment *)makeAPayment:(SKProduct *)product &#123;</div><div class="line">    SKMutablePayment *payment = [SKMutablePayment paymentWithProduct:product];</div><div class="line">    payment.quantity = 2;</div><div class="line">    ///提供加密后的平台用户账号名，用于给苹果检查可疑的支付行为</div><div class="line">    payment.applicationUsername = [self hashedValueForAccountName:@&quot;UserID&quot;];</div><div class="line">    return payment;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//官方的hash方法实例，用于加密用户在app平台上的账号名</div><div class="line">- (NSString *)hashedValueForAccountName:(NSString*)userAccountName</div><div class="line">&#123;</div><div class="line">    const int HASH_SIZE = 32;</div><div class="line">    unsigned char hashedChars[HASH_SIZE];</div><div class="line">    const char *accountName = [userAccountName UTF8String];</div><div class="line">    size_t accountNameLen = strlen(accountName);</div><div class="line">    </div><div class="line">    // Confirm that the length of the user name is small enough</div><div class="line">    // to be recast when calling the hash function.</div><div class="line">    if (accountNameLen &gt; UINT32_MAX) &#123;</div><div class="line">        NSLog(@&quot;Account name too long to hash: %@&quot;, userAccountName);</div><div class="line">        return nil;</div><div class="line">    &#125;</div><div class="line">    CC_SHA256(accountName, (CC_LONG)accountNameLen, hashedChars);</div><div class="line">    </div><div class="line">    // Convert the array of bytes into a string showing its hex representation.</div><div class="line">    NSMutableString *userAccountHash = [[NSMutableString alloc] init];</div><div class="line">    for (int i = 0; i &lt; HASH_SIZE; i++) &#123;</div><div class="line">        // Add a dash every four bytes, for readability.</div><div class="line">        if (i != 0 &amp;&amp; i%4 == 0) &#123;</div><div class="line">            [userAccountHash appendString:@&quot;-&quot;];</div><div class="line">        &#125;</div><div class="line">        [userAccountHash appendFormat:@&quot;%02x&quot;, hashedChars[i]];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return userAccountHash;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//将上述方法返回的payment放入支付队列</div><div class="line">[[SKPaymentQueue defaultQueue] addPayment:payment];</div></pre></td></tr></table></figure>
<p>等待苹果返回支付结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</div><div class="line">&#123;</div><div class="line">    //增加一个支付流程观察者</div><div class="line">    [[SKPaymentQueue defaultQueue] addTransactionObserver:observer];</div><div class="line">&#125;</div><div class="line"></div><div class="line">//观察者实现该方法</div><div class="line">- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions</div><div class="line">&#123;</div><div class="line">    for (SKPaymentTransaction *transaction in transactions) &#123;</div><div class="line">        switch (transaction.transactionState) &#123;</div><div class="line">            // Call the appropriate custom method for the transaction state.</div><div class="line">            case SKPaymentTransactionStatePurchasing:</div><div class="line">                [self showTransactionAsInProgress:transaction deferred:NO];</div><div class="line">                break;</div><div class="line">            case SKPaymentTransactionStateDeferred:</div><div class="line">                [self showTransactionAsInProgress:transaction deferred:YES];</div><div class="line">                break;</div><div class="line">            case SKPaymentTransactionStateFailed:</div><div class="line">                [self failedTransaction:transaction];</div><div class="line">                break;</div><div class="line">            case SKPaymentTransactionStatePurchased:</div><div class="line">                [self completeTransaction:transaction];</div><div class="line">                break;</div><div class="line">            case SKPaymentTransactionStateRestored:</div><div class="line">                [self restoreTransaction:transaction];</div><div class="line">                break;</div><div class="line">            default:</div><div class="line">                // For debugging</div><div class="line">                NSLog(@&quot;Unexpected transaction state %@&quot;, @(transaction.transactionState));</div><div class="line">                break;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h3><p>客户端需考虑将 <code>receipt</code> 凭证数据本地持久化，并加入请求失败重发机制</p>
<h3 id="通过沙盒用户购买商品"><a href="#通过沙盒用户购买商品" class="headerlink" title="通过沙盒用户购买商品"></a>通过沙盒用户购买商品</h3><p>使用沙盒用户购买商品时，需要退出当前登录的 iTunes &amp; App Store 账号</p>
<h3 id="服务器端验证-receipt"><a href="#服务器端验证-receipt" class="headerlink" title="服务器端验证 receipt"></a>服务器端验证 <code>receipt</code></h3><ol>
<li>接收ios端发过来的购买凭证。</li>
<li>判断凭证是否已经存在或验证过，然后存储该凭证。</li>
<li>将该凭证发送到苹果的服务器验证，并将验证结果返回给客户端。</li>
<li>如果需要，修改用户相应的会员权限。</li>
</ol>
<h4 id="如何验证"><a href="#如何验证" class="headerlink" title="如何验证"></a>如何验证</h4><p>将该购买凭证用Base64编码，然后POST给苹果的验证服务器，苹果将验证结果以JSON形式返回。</p>
<h5 id="验证地址"><a href="#验证地址" class="headerlink" title="验证地址"></a>验证地址</h5><blockquote>
<p>Always verify your receipt first with the production URL; proceed to verify with the sandbox URL if you receive a 21007 status code. Following this approach ensures that you do not have to switch between URLs while your application is being tested or reviewed in the sandbox or is live in the App Store.</p>
</blockquote>
<p>虽然在审核时，我们会将地址切换到生产环境。但在验证支付收据环节上，苹果的审核人员使用的是 <code>sandbox</code> 环境。所以，在进行验证时，都需要遵循以下步骤：</p>
<ol>
<li>通过生产环境URL验证</li>
<li>判断返回的状态码，若为 21007 ，则通过测试环境进行验证</li>
</ol>
<ul>
<li>测试：<a href="https://sandbox.itunes.apple.com/verifyReceipt" target="_blank" rel="external">https://sandbox.itunes.apple.com/verifyReceipt</a></li>
<li>正式：<a href="https://buy.itunes.apple.com/verifyReceipt" target="_blank" rel="external">https://buy.itunes.apple.com/verifyReceipt</a></li>
</ul>
<blockquote>
<p>check receipt but recommend to use in server side instead of using this function</p>
</blockquote>
<p>在一段源码中，我看到了这样的提示。建议将验证收据的过程放到服务器端进行。我觉得很有道理，因为我们无法保证用户的网络环境。 </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;术语 &lt;code&gt;in-app purchase&lt;/code&gt; 或 &lt;code&gt;IAP&lt;/code&gt; &lt;/p&gt;
&lt;h2 id=&quot;大致流程&quot;&gt;&lt;a href=&quot;#大致流程&quot; class=&quot;headerlink&quot; title=&quot;大致流程&quot;&gt;&lt;/a&gt;大致流程&lt;/h2&gt;&lt;p&gt;选自 &lt;a href=&quot;http://www.jianshu.com/p/298a01961ba7&quot;&gt;iOS快速上手应用内购(IAP)附Demo - 简书&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;应用发送请求到服务器，获取所有的可用Products Id集合,(当然你也可以把Products Id硬编码到程序中,这样会导致不能动态配置商品).&lt;/li&gt;
&lt;li&gt;根据服务器返回的 Products Id 以及信息设置购买界面UI.(这里跟图一有些不同)&lt;/li&gt;
&lt;li&gt;用户点击购买商品.&lt;/li&gt;
&lt;li&gt;客户端根据相应的 Product Id 向 App Store 请求产品信息，并发起购买 payment.(使用StoreKit)&lt;/li&gt;
&lt;li&gt;App Store处理该 payment，并返回完成的 transaction&lt;/li&gt;
&lt;li&gt;客户端从 transaction 中获取 receipt 凭证数据，并将其发送给服务器，等待返回.&lt;/li&gt;
&lt;li&gt;服务器验证 receipt 凭证数据是否使用过，保存然后发给App Store验证是否合法&lt;/li&gt;
&lt;li&gt;服务器得到 App Store 验证结果，返回给客户端相应购买成功或失败信息&lt;/li&gt;
&lt;li&gt;客户端提示用户购买结果以及处理相应UI.&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="IAP, iOS" scheme="https://expkzb.github.io/tags/IAP-iOS/"/>
    
  </entry>
  
  <entry>
    <title>使用mermaid来生成流程图</title>
    <link href="https://expkzb.github.io/2017/03/01/%E4%BD%BF%E7%94%A8mermaid%E6%9D%A5%E7%94%9F%E6%88%90%E6%B5%81%E7%A8%8B%E5%9B%BE/"/>
    <id>https://expkzb.github.io/2017/03/01/使用mermaid来生成流程图/</id>
    <published>2017-03-01T14:34:12.000Z</published>
    <updated>2017-03-01T14:47:22.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是-mermaid"><a href="#什么是-mermaid" class="headerlink" title="什么是 mermaid ?"></a>什么是 mermaid ?</h2><blockquote>
<p>Generation of diagrams and flowcharts from text in a similar manner as markdown.  </p>
</blockquote>
<p>使用与markdown行为类似的机制来生成流程图和图表。</p>
<a id="more"></a>
<h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><p>将以下内容保存为<code>mermaid_sample.txt</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">graph LR</div><div class="line">        validate&#123;验证输入合法性&#125;</div><div class="line">        clickNext[点击下一步]</div><div class="line">        begin[进入找回密码]</div><div class="line">        input[输入账号信息及验证码]</div><div class="line">        request&#123;调用接口验证成功&#125;</div><div class="line">        isPhone&#123;是否是手机号&#125;</div><div class="line">        enterGetVerifyCode[进入获取收集验证码界面]</div><div class="line">        isEmail&#123;是否是email&#125;</div><div class="line">        showPromotion[进入发送成功提示界面]</div><div class="line">        showValidateFailed[弹出错误提示]</div><div class="line">        getImageVerify[获取图片验证码]</div><div class="line">        getImageVerifySucceed&#123;获取成功&#125;</div><div class="line">        showVerifyCode[展示图片验证码]</div><div class="line">        showVerifyCodeErrorPlaceHolder[展示获取验证码失败占位图]</div><div class="line">        clickContact[点击联系客服]</div><div class="line">        enterContactView[进入联系客服页面]</div><div class="line">        </div><div class="line">        begin --&gt; input</div><div class="line">        </div><div class="line">        subgraph 账号信息验证</div><div class="line">            input --&gt; clickNext</div><div class="line">            clickNext --&gt; validate</div><div class="line">            validate -- YES --&gt; request</div><div class="line">            request -- YES --&gt; isPhone</div><div class="line">            isPhone -- YES --&gt; enterGetVerifyCode</div><div class="line">            isPhone -- NO --&gt; isEmail</div><div class="line">            isEmail -- YES --&gt; showPromotion</div><div class="line">            isEmail -- NO --&gt; showValidateFailed</div><div class="line">            validate -- NO --&gt; showValidateFailed</div><div class="line">            request -- NO --&gt; showValidateFailed</div><div class="line">        end</div><div class="line">        </div><div class="line">        begin --&gt; getImageVerify</div><div class="line">        </div><div class="line">        subgraph 获取图片验证码</div><div class="line">            getImageVerify --&gt; getImageVerifySucceed</div><div class="line">            getImageVerifySucceed -- YES --&gt; showVerifyCode</div><div class="line">            getImageVerifySucceed -- NO --&gt; showVerifyCodeErrorPlaceHolder</div><div class="line">        end</div><div class="line">        </div><div class="line">        begin --&gt; clickContact</div><div class="line">        </div><div class="line">        subgraph 联系客服</div><div class="line">            clickContact --&gt; enterContactView</div><div class="line">        end</div></pre></td></tr></table></figure>
<h2 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="安装-phantomjs"><a href="#安装-phantomjs" class="headerlink" title="安装 phantomjs"></a>安装 phantomjs</h4><p><a href="http://phantomjs.org" target="_blank" rel="external">PhantomJS</a></p>
<h4 id="安装-mermaid"><a href="#安装-mermaid" class="headerlink" title="安装 mermaid"></a>安装 mermaid</h4><p><code>sudo npm install -g mermaid</code></p>
<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p><code>mermaid -p mermaid_sample.txt -e /path/to/your/phantomjs/bin/file -w 2000</code>  </p>
<ul>
<li><code>/path/to/your/phantomjs/bin/file</code> 表示 phantomjs 的可执行文件路径</li>
<li><code>mermaid_sample.txt</code> 表示流程图文件路径</li>
<li><code>-p</code> 指定输出格式为png</li>
<li><code>-e</code> 指定 <code>phantomjs</code> 运行文件路径</li>
<li><code>-w</code> 指定生成的图片宽度</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;什么是-mermaid&quot;&gt;&lt;a href=&quot;#什么是-mermaid&quot; class=&quot;headerlink&quot; title=&quot;什么是 mermaid ?&quot;&gt;&lt;/a&gt;什么是 mermaid ?&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Generation of diagrams and flowcharts from text in a similar manner as markdown.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用与markdown行为类似的机制来生成流程图和图表。&lt;/p&gt;
    
    </summary>
    
    
      <category term="mermaid, flowchart" scheme="https://expkzb.github.io/tags/mermaid-flowchart/"/>
    
  </entry>
  
  <entry>
    <title>rbenv无法设置版本</title>
    <link href="https://expkzb.github.io/2017/02/28/rbenv_%E6%97%A0%E6%B3%95%E8%AE%BE%E7%BD%AE%E7%89%88%E6%9C%AC/"/>
    <id>https://expkzb.github.io/2017/02/28/rbenv_无法设置版本/</id>
    <published>2017-02-27T23:48:40.000Z</published>
    <updated>2017-02-27T23:54:31.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;</div><div class="line">$ eval &quot;$(rbenv init -)&quot;</div></pre></td></tr></table></figure>
<a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ export PATH=&amp;quot;$HOME/.rbenv/bin:$PATH&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ eval &amp;quot;$(rbenv init -)&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>图像批量缩放</title>
    <link href="https://expkzb.github.io/2017/02/28/%E5%9B%BE%E5%83%8F%E6%89%B9%E9%87%8F%E7%BC%A9%E6%94%BE/"/>
    <id>https://expkzb.github.io/2017/02/28/图像批量缩放/</id>
    <published>2017-02-27T23:48:40.000Z</published>
    <updated>2017-02-27T23:49:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需要的软件"><a href="#需要的软件" class="headerlink" title="需要的软件"></a>需要的软件</h2><p>homebrew</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</div></pre></td></tr></table></figure>
<p>imagemagick</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew install imagemagick</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="将图片缩小到-40-，格式为-jpg"><a href="#将图片缩小到-40-，格式为-jpg" class="headerlink" title="将图片缩小到 40%，格式为 jpg"></a>将图片缩小到 40%，格式为 jpg</h3><p>切换目录至图片目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mogrify -path [输出目录] -resize 40% -format jpg *.JPG</div></pre></td></tr></table></figure>
<h2 id="其余参数"><a href="#其余参数" class="headerlink" title="其余参数"></a>其余参数</h2><table>
<thead>
<tr>
<th style="text-align:left">Option</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-adaptive-blur geometry</td>
<td style="text-align:left">adaptively blur pixels; decrease effect near edges</td>
</tr>
<tr>
<td style="text-align:left">-adaptive-resize geometry</td>
<td style="text-align:left">adaptively resize image with data dependent triangulation.</td>
</tr>
<tr>
<td style="text-align:left">-adaptive-sharpen geometry</td>
<td style="text-align:left">adaptively sharpen pixels; increase effect near edges</td>
</tr>
<tr>
<td style="text-align:left">-adjoin</td>
<td style="text-align:left">join images into a single multi-image file</td>
</tr>
<tr>
<td style="text-align:left">-affine matrix</td>
<td style="text-align:left">affine transform matrix</td>
</tr>
<tr>
<td style="text-align:left">-alpha</td>
<td style="text-align:left">on, activate, off, deactivate, set, opaque, copy”, transparent, extract, background, or shape the alpha channel</td>
</tr>
<tr>
<td style="text-align:left">-annotate geometry text</td>
<td style="text-align:left">annotate the image with text</td>
</tr>
<tr>
<td style="text-align:left">-antialias</td>
<td style="text-align:left">remove pixel-aliasing</td>
</tr>
<tr>
<td style="text-align:left">-append</td>
<td style="text-align:left">append an image sequence</td>
</tr>
<tr>
<td style="text-align:left">-authenticate value</td>
<td style="text-align:left">decipher image with this password</td>
</tr>
<tr>
<td style="text-align:left">-auto-gamma</td>
<td style="text-align:left">automagically adjust gamma level of image</td>
</tr>
<tr>
<td style="text-align:left">-auto-level</td>
<td style="text-align:left">automagically adjust color levels of image</td>
</tr>
<tr>
<td style="text-align:left">-auto-orient</td>
<td style="text-align:left">automagically orient image</td>
</tr>
<tr>
<td style="text-align:left">-background color</td>
<td style="text-align:left">background color</td>
</tr>
<tr>
<td style="text-align:left">-bench iterations</td>
<td style="text-align:left">measure performance</td>
</tr>
<tr>
<td style="text-align:left">-bias value</td>
<td style="text-align:left">add bias when convolving an image</td>
</tr>
<tr>
<td style="text-align:left">-black-threshold value</td>
<td style="text-align:left">force all pixels below the threshold into black</td>
</tr>
<tr>
<td style="text-align:left">-blue-primary point</td>
<td style="text-align:left">chromaticity blue primary point</td>
</tr>
<tr>
<td style="text-align:left">-blue-shift factor</td>
<td style="text-align:left">simulate a scene at nighttime in the moonlight</td>
</tr>
<tr>
<td style="text-align:left">-blur geometry</td>
<td style="text-align:left">reduce image noise and reduce detail levels</td>
</tr>
<tr>
<td style="text-align:left">-border geometry</td>
<td style="text-align:left">surround image with a border of color</td>
</tr>
<tr>
<td style="text-align:left">-bordercolor color</td>
<td style="text-align:left">border color</td>
</tr>
<tr>
<td style="text-align:left">-brightness-contrast geometry</td>
<td style="text-align:left">improve brightness / contrast of the image</td>
</tr>
<tr>
<td style="text-align:left">-canny geometry</td>
<td style="text-align:left">use a multi-stage algorithm to detect a wide range of edges in the image</td>
</tr>
<tr>
<td style="text-align:left">-caption string</td>
<td style="text-align:left">assign a caption to an image</td>
</tr>
<tr>
<td style="text-align:left">-cdl filename</td>
<td style="text-align:left">color correct with a color decision list</td>
</tr>
<tr>
<td style="text-align:left">-channel type</td>
<td style="text-align:left">apply option to select image channels</td>
</tr>
<tr>
<td style="text-align:left">-charcoal radius</td>
<td style="text-align:left">simulate a charcoal drawing</td>
</tr>
<tr>
<td style="text-align:left">-chop geometry</td>
<td style="text-align:left">remove pixels from the image interior</td>
</tr>
<tr>
<td style="text-align:left">-clip</td>
<td style="text-align:left">clip along the first path from the 8BIM profile</td>
</tr>
<tr>
<td style="text-align:left">-clamp</td>
<td style="text-align:left">set each pixel whose value is below zero to zero and any the pixel whose value is above the quantum range to the quantum range (e.g. 65535) otherwise the pixel value remains unchanged.</td>
</tr>
<tr>
<td style="text-align:left">-clip-mask filename</td>
<td style="text-align:left">associate clip mask with the image</td>
</tr>
<tr>
<td style="text-align:left">-clip-path id</td>
<td style="text-align:left">clip along a named path from the 8BIM profile</td>
</tr>
<tr>
<td style="text-align:left">-clut</td>
<td style="text-align:left">apply a color lookup table to the image</td>
</tr>
<tr>
<td style="text-align:left">-complexoperator</td>
<td style="text-align:left">perform complex mathematics on an image sequence</td>
</tr>
<tr>
<td style="text-align:left">-connected-components connectivity</td>
<td style="text-align:left">connected-components uniquely labeled, choose from 4 or 8 way connectivity</td>
</tr>
<tr>
<td style="text-align:left">-contrast-stretch geometry</td>
<td style="text-align:left">improve the contrast in an image by `stretching’ the range of intensity value</td>
</tr>
<tr>
<td style="text-align:left">-coalesce</td>
<td style="text-align:left">merge a sequence of images</td>
</tr>
<tr>
<td style="text-align:left">-colorize value</td>
<td style="text-align:left">colorize the image with the fill color</td>
</tr>
<tr>
<td style="text-align:left">-color-matrix matrix</td>
<td style="text-align:left">apply color correction to the image.</td>
</tr>
<tr>
<td style="text-align:left">-colors value</td>
<td style="text-align:left">preferred number of colors in the image</td>
</tr>
<tr>
<td style="text-align:left">-colorspace type</td>
<td style="text-align:left">set image colorspace</td>
</tr>
<tr>
<td style="text-align:left">-combine</td>
<td style="text-align:left">combine a sequence of images</td>
</tr>
<tr>
<td style="text-align:left">-comment string</td>
<td style="text-align:left">annotate image with comment</td>
</tr>
<tr>
<td style="text-align:left">-compose operator</td>
<td style="text-align:left">set image composite operator</td>
</tr>
<tr>
<td style="text-align:left">-composite</td>
<td style="text-align:left">composite image</td>
</tr>
<tr>
<td style="text-align:left">-compress type</td>
<td style="text-align:left">image compression type</td>
</tr>
<tr>
<td style="text-align:left">-contrast</td>
<td style="text-align:left">enhance or reduce the image contrast</td>
</tr>
<tr>
<td style="text-align:left">-convolve coefficients</td>
<td style="text-align:left">apply a convolution kernel to the image</td>
</tr>
<tr>
<td style="text-align:left">-copy geometry offset</td>
<td style="text-align:left">copy pixels from one area of an image to another</td>
</tr>
<tr>
<td style="text-align:left">-crop geometry</td>
<td style="text-align:left">crop the image</td>
</tr>
<tr>
<td style="text-align:left">-cycle amount</td>
<td style="text-align:left">cycle the image colormap</td>
</tr>
<tr>
<td style="text-align:left">-decipher filename</td>
<td style="text-align:left">convert cipher pixels to plain</td>
</tr>
<tr>
<td style="text-align:left">-debug events</td>
<td style="text-align:left">display copious debugging information</td>
</tr>
<tr>
<td style="text-align:left">-define format:option</td>
<td style="text-align:left">define one or more image format options</td>
</tr>
<tr>
<td style="text-align:left">-deconstruct</td>
<td style="text-align:left">break down an image sequence into constituent parts</td>
</tr>
<tr>
<td style="text-align:left">-delay value</td>
<td style="text-align:left">display the next image after pausing</td>
</tr>
<tr>
<td style="text-align:left">-delete index</td>
<td style="text-align:left">delete the image from the image sequence</td>
</tr>
<tr>
<td style="text-align:left">-density geometry</td>
<td style="text-align:left">horizontal and vertical density of the image</td>
</tr>
<tr>
<td style="text-align:left">-depth value</td>
<td style="text-align:left">image depth</td>
</tr>
<tr>
<td style="text-align:left">-despeckle</td>
<td style="text-align:left">reduce the speckles within an image</td>
</tr>
<tr>
<td style="text-align:left">-direction type</td>
<td style="text-align:left">render text right-to-left or left-to-right</td>
</tr>
<tr>
<td style="text-align:left">-display server</td>
<td style="text-align:left">get image or font from this X server</td>
</tr>
<tr>
<td style="text-align:left">-dispose method</td>
<td style="text-align:left">layer disposal method</td>
</tr>
<tr>
<td style="text-align:left">-distort type coefficients</td>
<td style="text-align:left">distort image</td>
</tr>
<tr>
<td style="text-align:left">-distribute-cache port</td>
<td style="text-align:left">launch a pixel cache server</td>
</tr>
<tr>
<td style="text-align:left">-dither method</td>
<td style="text-align:left">apply error diffusion to image</td>
</tr>
<tr>
<td style="text-align:left">-draw string</td>
<td style="text-align:left">annotate the image with a graphic primitive</td>
</tr>
<tr>
<td style="text-align:left">-duplicate count,indexes</td>
<td style="text-align:left">duplicate an image one or more times</td>
</tr>
<tr>
<td style="text-align:left">-edge radius</td>
<td style="text-align:left">apply a filter to detect edges in the image</td>
</tr>
<tr>
<td style="text-align:left">-emboss radius</td>
<td style="text-align:left">emboss an image</td>
</tr>
<tr>
<td style="text-align:left">-encipher filename</td>
<td style="text-align:left">convert plain pixels to cipher pixels</td>
</tr>
<tr>
<td style="text-align:left">-encoding type</td>
<td style="text-align:left">text encoding type</td>
</tr>
<tr>
<td style="text-align:left">-endian type</td>
<td style="text-align:left">endianness (MSB or LSB) of the image</td>
</tr>
<tr>
<td style="text-align:left">-enhance</td>
<td style="text-align:left">apply a digital filter to enhance a noisy image</td>
</tr>
<tr>
<td style="text-align:left">-equalize</td>
<td style="text-align:left">perform histogram equalization to an image</td>
</tr>
<tr>
<td style="text-align:left">-evaluate operator value</td>
<td style="text-align:left">evaluate an arithmetic, relational, or logical expression</td>
</tr>
<tr>
<td style="text-align:left">-evaluate-sequence operator</td>
<td style="text-align:left">evaluate an arithmetic, relational, or logical expression for an image sequence</td>
</tr>
<tr>
<td style="text-align:left">-extent geometry</td>
<td style="text-align:left">set the image size</td>
</tr>
<tr>
<td style="text-align:left">-extract geometry</td>
<td style="text-align:left">extract area from image</td>
</tr>
<tr>
<td style="text-align:left">-family name</td>
<td style="text-align:left">render text with this font family</td>
</tr>
<tr>
<td style="text-align:left">-features distance</td>
<td style="text-align:left">analyze image features (e.g. contract, correlations, etc.).</td>
</tr>
<tr>
<td style="text-align:left">-fft</td>
<td style="text-align:left">implements the discrete Fourier transform (DFT)</td>
</tr>
<tr>
<td style="text-align:left">-fill color</td>
<td style="text-align:left">color to use when filling a graphic primitive</td>
</tr>
<tr>
<td style="text-align:left">-filter type</td>
<td style="text-align:left">use this filter when resizing an image</td>
</tr>
<tr>
<td style="text-align:left">-flatten</td>
<td style="text-align:left">flatten a sequence of images</td>
</tr>
<tr>
<td style="text-align:left">-flip</td>
<td style="text-align:left">flip image in the vertical direction</td>
</tr>
<tr>
<td style="text-align:left">-floodfill geometry color</td>
<td style="text-align:left">floodfill the image with color</td>
</tr>
<tr>
<td style="text-align:left">-flop</td>
<td style="text-align:left">flop image in the horizontal direction</td>
</tr>
<tr>
<td style="text-align:left">-font name</td>
<td style="text-align:left">render text with this font</td>
</tr>
<tr>
<td style="text-align:left">-format type</td>
<td style="text-align:left">output formatted image characteristics</td>
</tr>
<tr>
<td style="text-align:left">-frame geometry</td>
<td style="text-align:left">surround image with an ornamental border</td>
</tr>
<tr>
<td style="text-align:left">-function name</td>
<td style="text-align:left">apply a function to the image</td>
</tr>
<tr>
<td style="text-align:left">-fuzz distance</td>
<td style="text-align:left">colors within this distance are considered equal</td>
</tr>
<tr>
<td style="text-align:left">-fx expression</td>
<td style="text-align:left">apply mathematical expression to an image channel(s)</td>
</tr>
<tr>
<td style="text-align:left">-gamma value</td>
<td style="text-align:left">level of gamma correction</td>
</tr>
<tr>
<td style="text-align:left">-gaussian-blur geometry</td>
<td style="text-align:left">reduce image noise and reduce detail levels</td>
</tr>
<tr>
<td style="text-align:left">-geometry geometry</td>
<td style="text-align:left">preferred size or location of the image</td>
</tr>
<tr>
<td style="text-align:left">-gravity type</td>
<td style="text-align:left">horizontal and vertical text placement</td>
</tr>
<tr>
<td style="text-align:left">-grayscale method</td>
<td style="text-align:left">convert image to grayscale</td>
</tr>
<tr>
<td style="text-align:left">-green-primary point</td>
<td style="text-align:left">chromaticity green primary point</td>
</tr>
<tr>
<td style="text-align:left">-help</td>
<td style="text-align:left">print program options</td>
</tr>
<tr>
<td style="text-align:left">-hough-lines geometry</td>
<td style="text-align:left">identify lines in the image</td>
</tr>
<tr>
<td style="text-align:left">-identify</td>
<td style="text-align:left">identify the format and characteristics of the image</td>
</tr>
<tr>
<td style="text-align:left">-ifft</td>
<td style="text-align:left">implements the inverse discrete Fourier transform (DFT)</td>
</tr>
<tr>
<td style="text-align:left">-implode amount</td>
<td style="text-align:left">implode image pixels about the center</td>
</tr>
<tr>
<td style="text-align:left">-insert index</td>
<td style="text-align:left">insert last image into the image sequence</td>
</tr>
<tr>
<td style="text-align:left">-intensity method</td>
<td style="text-align:left">method to generate an intensity value from a pixel</td>
</tr>
<tr>
<td style="text-align:left">-intent type</td>
<td style="text-align:left">type of rendering intent when managing the image color</td>
</tr>
<tr>
<td style="text-align:left">-interlace type</td>
<td style="text-align:left">type of image interlacing scheme</td>
</tr>
<tr>
<td style="text-align:left">-interline-spacing value</td>
<td style="text-align:left">the space between two text lines</td>
</tr>
<tr>
<td style="text-align:left">-interpolate method</td>
<td style="text-align:left">pixel color interpolation method</td>
</tr>
<tr>
<td style="text-align:left">-interword-spacing value</td>
<td style="text-align:left">the space between two words</td>
</tr>
<tr>
<td style="text-align:left">-kerning value</td>
<td style="text-align:left">the space between two characters</td>
</tr>
<tr>
<td style="text-align:left">-kuwahara geometry</td>
<td style="text-align:left">edge preserving noise reduction filter</td>
</tr>
<tr>
<td style="text-align:left">-label string</td>
<td style="text-align:left">assign a label to an image</td>
</tr>
<tr>
<td style="text-align:left">-lat geometry</td>
<td style="text-align:left">local adaptive thresholding</td>
</tr>
<tr>
<td style="text-align:left">-layers method</td>
<td style="text-align:left">optimize or compare image layers</td>
</tr>
<tr>
<td style="text-align:left">-level value</td>
<td style="text-align:left">adjust the level of image contrast</td>
</tr>
<tr>
<td style="text-align:left">-limit type value</td>
<td style="text-align:left">pixel cache resource limit</td>
</tr>
<tr>
<td style="text-align:left">-linear-stretch geometry</td>
<td style="text-align:left">linear with saturation histogram stretch</td>
</tr>
<tr>
<td style="text-align:left">-liquid-rescale geometry</td>
<td style="text-align:left">rescale image with seam-carving</td>
</tr>
<tr>
<td style="text-align:left">-log format</td>
<td style="text-align:left">format of debugging information</td>
</tr>
<tr>
<td style="text-align:left">-loop iterations</td>
<td style="text-align:left">add Netscape loop extension to your GIF animation</td>
</tr>
<tr>
<td style="text-align:left">-mattecolor color</td>
<td style="text-align:left">frame color</td>
</tr>
<tr>
<td style="text-align:left">-median radius</td>
<td style="text-align:left">apply a median filter to the image</td>
</tr>
<tr>
<td style="text-align:left">-mean-shift geometry</td>
<td style="text-align:left">delineate arbitrarily shaped clusters in the image</td>
</tr>
<tr>
<td style="text-align:left">-metric type</td>
<td style="text-align:left">measure differences between images with this metric</td>
</tr>
<tr>
<td style="text-align:left">-mode radius</td>
<td style="text-align:left">make each pixel the ‘predominant color’ of the neighborhood</td>
</tr>
<tr>
<td style="text-align:left">-modulate value</td>
<td style="text-align:left">vary the brightness, saturation, and hue</td>
</tr>
<tr>
<td style="text-align:left">-monitor</td>
<td style="text-align:left">monitor progress</td>
</tr>
<tr>
<td style="text-align:left">-monochrome</td>
<td style="text-align:left">transform image to black and white</td>
</tr>
<tr>
<td style="text-align:left">-morph value</td>
<td style="text-align:left">morph an image sequence</td>
</tr>
<tr>
<td style="text-align:left">-morphology method kernel</td>
<td style="text-align:left">apply a morphology method to the image</td>
</tr>
<tr>
<td style="text-align:left">-motion-blur geometry</td>
<td style="text-align:left">simulate motion blur</td>
</tr>
<tr>
<td style="text-align:left">-negate</td>
<td style="text-align:left">replace each pixel with its complementary color</td>
</tr>
<tr>
<td style="text-align:left">-noise radius</td>
<td style="text-align:left">add or reduce noise in an image</td>
</tr>
<tr>
<td style="text-align:left">-normalize</td>
<td style="text-align:left">transform image to span the full range of colors</td>
</tr>
<tr>
<td style="text-align:left">-opaque color</td>
<td style="text-align:left">change this color to the fill color</td>
</tr>
<tr>
<td style="text-align:left">-ordered-dither NxN</td>
<td style="text-align:left">ordered dither the image</td>
</tr>
<tr>
<td style="text-align:left">-orient type</td>
<td style="text-align:left">image orientation</td>
</tr>
<tr>
<td style="text-align:left">-page geometry</td>
<td style="text-align:left">size and location of an image canvas (setting)</td>
</tr>
<tr>
<td style="text-align:left">-paint radius</td>
<td style="text-align:left">simulate an oil painting</td>
</tr>
<tr>
<td style="text-align:left">-perceptible</td>
<td style="text-align:left">set each pixel whose value is less than</td>
<td>epsilon</td>
<td>to -epsilon or epsilon (whichever is closer) otherwise the pixel value remains unchanged.</td>
</tr>
<tr>
<td style="text-align:left">-ping</td>
<td style="text-align:left">efficiently determine image attributes</td>
</tr>
<tr>
<td style="text-align:left">-pointsize value</td>
<td style="text-align:left">font point size</td>
</tr>
<tr>
<td style="text-align:left">-polaroid angle</td>
<td style="text-align:left">simulate a Polaroid picture</td>
</tr>
<tr>
<td style="text-align:left">-poly terms</td>
<td style="text-align:left">build a polynomial from the image sequence and the corresponding terms (coefficients and degree pairs).</td>
</tr>
<tr>
<td style="text-align:left">-posterize levels</td>
<td style="text-align:left">reduce the image to a limited number of color levels</td>
</tr>
<tr>
<td style="text-align:left">-precision value</td>
<td style="text-align:left">set the maximum number of significant digits to be printed</td>
</tr>
<tr>
<td style="text-align:left">-preview type</td>
<td style="text-align:left">image preview type</td>
</tr>
<tr>
<td style="text-align:left">-print string</td>
<td style="text-align:left">interpret string and print to console</td>
</tr>
<tr>
<td style="text-align:left">-process image-filter</td>
<td style="text-align:left">process the image with a custom image filter</td>
</tr>
<tr>
<td style="text-align:left">-profile filename</td>
<td style="text-align:left">add, delete, or apply an image profile</td>
</tr>
<tr>
<td style="text-align:left">-quality value</td>
<td style="text-align:left">JPEG/MIFF/PNG compression level</td>
</tr>
<tr>
<td style="text-align:left">-quantize colorspace</td>
<td style="text-align:left">reduce image colors in this colorspace</td>
</tr>
<tr>
<td style="text-align:left">-quiet</td>
<td style="text-align:left">suppress all warning messages</td>
</tr>
<tr>
<td style="text-align:left">-radial-blur angle</td>
<td style="text-align:left">radial blur the image</td>
</tr>
<tr>
<td style="text-align:left">-raise value</td>
<td style="text-align:left">lighten/darken image edges to create a 3-D effect</td>
</tr>
<tr>
<td style="text-align:left">-random-threshold low,high</td>
<td style="text-align:left">random threshold the image</td>
</tr>
<tr>
<td style="text-align:left">-read-mask filename</td>
<td style="text-align:left">associate a read mask with the image</td>
</tr>
<tr>
<td style="text-align:left">-red-primary point</td>
<td style="text-align:left">chromaticity red primary point</td>
</tr>
<tr>
<td style="text-align:left">-regard-warnings</td>
<td style="text-align:left">pay attention to warning messages.</td>
</tr>
<tr>
<td style="text-align:left">-region geometry</td>
<td style="text-align:left">apply options to a portion of the image</td>
</tr>
<tr>
<td style="text-align:left">-remap filename</td>
<td style="text-align:left">transform image colors to match this set of colors</td>
</tr>
<tr>
<td style="text-align:left">-render</td>
<td style="text-align:left">render vector graphics</td>
</tr>
<tr>
<td style="text-align:left">-repage geometry</td>
<td style="text-align:left">size and location of an image canvas</td>
</tr>
<tr>
<td style="text-align:left">-resample geometry</td>
<td style="text-align:left">change the resolution of an image</td>
</tr>
<tr>
<td style="text-align:left">-resize geometry</td>
<td style="text-align:left">resize the image</td>
</tr>
<tr>
<td style="text-align:left">-respect-parentheses</td>
<td style="text-align:left">settings remain in effect until parenthesis boundary.</td>
</tr>
<tr>
<td style="text-align:left">-roll geometry</td>
<td style="text-align:left">roll an image vertically or horizontally</td>
</tr>
<tr>
<td style="text-align:left">-rotate degrees</td>
<td style="text-align:left">apply Paeth rotation to the image</td>
</tr>
<tr>
<td style="text-align:left">-sample geometry</td>
<td style="text-align:left">scale image with pixel sampling</td>
</tr>
<tr>
<td style="text-align:left">-sampling-factor geometry</td>
<td style="text-align:left">horizontal and vertical sampling factor</td>
</tr>
<tr>
<td style="text-align:left">-scale geometry</td>
<td style="text-align:left">scale the image</td>
</tr>
<tr>
<td style="text-align:left">-scene value</td>
<td style="text-align:left">image scene number</td>
</tr>
<tr>
<td style="text-align:left">-seed value</td>
<td style="text-align:left">seed a new sequence of pseudo-random numbers</td>
</tr>
<tr>
<td style="text-align:left">-segment values</td>
<td style="text-align:left">segment an image</td>
</tr>
<tr>
<td style="text-align:left">-selective-blur geometry</td>
<td style="text-align:left">selectively blur pixels within a contrast threshold</td>
</tr>
<tr>
<td style="text-align:left">-separate</td>
<td style="text-align:left">separate an image channel into a grayscale image</td>
</tr>
<tr>
<td style="text-align:left">-sepia-tone threshold</td>
<td style="text-align:left">simulate a sepia-toned photo</td>
</tr>
<tr>
<td style="text-align:left">-set attribute value</td>
<td style="text-align:left">set an image attribute</td>
</tr>
<tr>
<td style="text-align:left">-shade degrees</td>
<td style="text-align:left">shade the image using a distant light source</td>
</tr>
<tr>
<td style="text-align:left">-shadow geometry</td>
<td style="text-align:left">simulate an image shadow</td>
</tr>
<tr>
<td style="text-align:left">-sharpen geometry</td>
<td style="text-align:left">sharpen the image</td>
</tr>
<tr>
<td style="text-align:left">-shave geometry</td>
<td style="text-align:left">shave pixels from the image edges</td>
</tr>
<tr>
<td style="text-align:left">-shear geometry</td>
<td style="text-align:left">slide one edge of the image along the X or Y axis</td>
</tr>
<tr>
<td style="text-align:left">-sigmoidal-contrast geometry</td>
<td style="text-align:left">increase the contrast without saturating highlights or shadows</td>
</tr>
<tr>
<td style="text-align:left">-size geometry</td>
<td style="text-align:left">width and height of image</td>
</tr>
<tr>
<td style="text-align:left">-sketch geometry</td>
<td style="text-align:left">simulate a pencil sketch</td>
</tr>
<tr>
<td style="text-align:left">-smush offset</td>
<td style="text-align:left">smush an image sequence together</td>
</tr>
<tr>
<td style="text-align:left">-solarize threshold</td>
<td style="text-align:left">negate all pixels above the threshold level</td>
</tr>
<tr>
<td style="text-align:left">-splice geometry</td>
<td style="text-align:left">splice the background color into the image</td>
</tr>
<tr>
<td style="text-align:left">-spread radius</td>
<td style="text-align:left">displace image pixels by a random amount</td>
</tr>
<tr>
<td style="text-align:left">-statistic type geometry</td>
<td style="text-align:left">replace each pixel with corresponding statistic from the neighborhood</td>
</tr>
<tr>
<td style="text-align:left">-strip</td>
<td style="text-align:left">strip image of all profiles and comments</td>
</tr>
<tr>
<td style="text-align:left">-stroke color</td>
<td style="text-align:left">graphic primitive stroke color</td>
</tr>
<tr>
<td style="text-align:left">-strokewidth value</td>
<td style="text-align:left">graphic primitive stroke width</td>
</tr>
<tr>
<td style="text-align:left">-stretch type</td>
<td style="text-align:left">render text with this font stretch</td>
</tr>
<tr>
<td style="text-align:left">-style type</td>
<td style="text-align:left">render text with this font style</td>
</tr>
<tr>
<td style="text-align:left">-swap indexes</td>
<td style="text-align:left">swap two images in the image sequence</td>
</tr>
<tr>
<td style="text-align:left">-swirl degrees</td>
<td style="text-align:left">swirl image pixels about the center</td>
</tr>
<tr>
<td style="text-align:left">-synchronize</td>
<td style="text-align:left">synchronize image to storage device</td>
</tr>
<tr>
<td style="text-align:left">-texture filename</td>
<td style="text-align:left">name of texture to tile onto the image background</td>
</tr>
<tr>
<td style="text-align:left">-threshold value</td>
<td style="text-align:left">threshold the image</td>
</tr>
<tr>
<td style="text-align:left">-thumbnail geometry</td>
<td style="text-align:left">create a thumbnail of the image</td>
</tr>
<tr>
<td style="text-align:left">-tile filename</td>
<td style="text-align:left">tile image when filling a graphic primitive</td>
</tr>
<tr>
<td style="text-align:left">-tile-offset geometry</td>
<td style="text-align:left">set the image tile offset</td>
</tr>
<tr>
<td style="text-align:left">-tint value</td>
<td style="text-align:left">tint the image with the fill color</td>
</tr>
<tr>
<td style="text-align:left">-transform</td>
<td style="text-align:left">affine transform image</td>
</tr>
<tr>
<td style="text-align:left">-transparent color</td>
<td style="text-align:left">make this color transparent within the image</td>
</tr>
<tr>
<td style="text-align:left">-transparent-color color</td>
<td style="text-align:left">transparent color</td>
</tr>
<tr>
<td style="text-align:left">-transpose</td>
<td style="text-align:left">flip image in the vertical direction and rotate 90 degrees</td>
</tr>
<tr>
<td style="text-align:left">-transverse</td>
<td style="text-align:left">flop image in the horizontal direction and rotate 270 degrees</td>
</tr>
<tr>
<td style="text-align:left">-treedepth value</td>
<td style="text-align:left">color tree depth</td>
</tr>
<tr>
<td style="text-align:left">-trim</td>
<td style="text-align:left">trim image edges</td>
</tr>
<tr>
<td style="text-align:left">-type type</td>
<td style="text-align:left">image type</td>
</tr>
<tr>
<td style="text-align:left">-undercolor color</td>
<td style="text-align:left">annotation bounding box color</td>
</tr>
<tr>
<td style="text-align:left">-unique-colors</td>
<td style="text-align:left">discard all but one of any pixel color.</td>
</tr>
<tr>
<td style="text-align:left">-units type</td>
<td style="text-align:left">the units of image resolution</td>
</tr>
<tr>
<td style="text-align:left">-unsharp geometry</td>
<td style="text-align:left">sharpen the image</td>
</tr>
<tr>
<td style="text-align:left">-verbose</td>
<td style="text-align:left">print detailed information about the image</td>
</tr>
<tr>
<td style="text-align:left">-version</td>
<td style="text-align:left">print version information</td>
</tr>
<tr>
<td style="text-align:left">-view</td>
<td style="text-align:left">FlashPix viewing transforms</td>
</tr>
<tr>
<td style="text-align:left">-vignette geometry</td>
<td style="text-align:left">soften the edges of the image in vignette style</td>
</tr>
<tr>
<td style="text-align:left">-virtual-pixel method</td>
<td style="text-align:left">access method for pixels outside the boundaries of the image</td>
</tr>
<tr>
<td style="text-align:left">-wave geometry</td>
<td style="text-align:left">alter an image along a sine wave</td>
</tr>
<tr>
<td style="text-align:left">-wavelet-denoise threshold</td>
<td style="text-align:left">removes noise from the image using a wavelet transform</td>
</tr>
<tr>
<td style="text-align:left">-weight type</td>
<td style="text-align:left">render text with this font weight</td>
</tr>
<tr>
<td style="text-align:left">-white-point point</td>
<td style="text-align:left">chromaticity white point</td>
</tr>
<tr>
<td style="text-align:left">-white-threshold value</td>
<td style="text-align:left">force all pixels above the threshold into white</td>
</tr>
<tr>
<td style="text-align:left">-write filename</td>
<td style="text-align:left">write images to this file</td>
</tr>
<tr>
<td style="text-align:left">-write-mask filename</td>
<td style="text-align:left">associate a write mask with the imageg</td>
</tr>
</tbody>
</table>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;需要的软件&quot;&gt;&lt;a href=&quot;#需要的软件&quot; class=&quot;headerlink&quot; title=&quot;需要的软件&quot;&gt;&lt;/a&gt;需要的软件&lt;/h2&gt;&lt;p&gt;homebrew&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ /usr/bin/ruby -e &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;imagemagick&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ brew install imagemagick&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
